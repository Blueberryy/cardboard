currentmaps = "aard3c fz_burn hexenic highland illusion neo_noir ruins zsolttest"
parkourmaps = "ftdeluxe secondevermap"
ctfmaps = "hr"

allmaps = (concat $currentmaps $parkourmaps)

showmapshot = [
    guibar
    guiimage (concatword "packages/base/" (if (> $numargs 0) [result $arg1] [at $guirollovername 0]) ".png") $guirolloveraction 4 1 "data/cardboard.png"
]

newgui maps [
    guilist [
      guistrut 17 1
      guilist [ guistrut 15 1; genmapitems $currentmaps ]
      guilist [ guistrut 15 1]
      showmapshot
    ]
	guitab ctf
    guilist [
      guistrut 17 1
      guilist [ guistrut 15 1; genmapitems $ctfmaps ]
      guilist [ guistrut 15 1 ]
      showmapshot
    ]
    guitab parkour
    guilist [
      guistrut 17 1
      guilist [ guistrut 15 1; genmapitems $parkourmaps ]
      guilist [ guistrut 15 1 ]
      showmapshot
    ]
]

//echo "maps run"

// prepare yourself for bad -Y 09/12/19

dbgmap = [
    dbg_disablelightmap 1
    map $arg1
    calclight
    savemap $arg1
    disconnect
    dbg_disablelightmap 0
    map $arg1
    calclight
    savemap $arg1
	disconnect
	map $arg1
	echo "dbgmap done"
]

complete dbgmap packages/base cmr